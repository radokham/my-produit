{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { Component, Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport styles from './styles.css'\n\nexport default class EditButton extends Component {\n  static defaultProps = {\n    inputProps: {},\n    editButtonProps: {},\n  }\n  static propTypes = {\n    children: PropTypes.shape({\n      props: PropTypes.shape({\n        children: PropTypes.string.isRequired,\n      }).isRequired,\n    }).isRequired,\n    containerProps: PropTypes.any,\n    inputProps: PropTypes.shape({\n      value: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n      ]),\n      placeholder: PropTypes.string,\n      onChange: (props, propName, componentName) => {\n        if ((typeof(props['value']) !== 'undefined' && (props[propName] == undefined || typeof(props[propName]) != 'function'))) {\n          return new Error('Please provide an inputProps.onChange function');\n        }\n      },\n    }),\n    editButtonProps: PropTypes.shape({\n      text: PropTypes.string,\n      icon: PropTypes.any,\n    }),\n    onEditButtonClick: (props, propName, componentName) => {\n      if (props['hideEditButton'] === true) {\n        return false;\n      } else if ((typeof(props['editMode']) === 'boolean' && (\n        (props[propName] == undefined || typeof(props[propName]) != 'function') &&\n        (props['onContainerClick'] == undefined || typeof(props['onContainerClick']) != 'function')\n      ))) {\n        return new Error('Please provide an onEditButtonClick or onContainerClick function');\n      }\n    },\n    onContainerClick: (props, propName, componentName) => {\n      if (typeof(props['editMode']) === 'boolean' && (props['hideEditButton'] === true) && (\n        (props[propName] == undefined || typeof(props[propName]) != 'function')\n      )) {\n        return new Error('Please provide an onContainerClick function');\n      } else if ((typeof(props['editMode']) === 'boolean' && (\n        (props[propName] == undefined || typeof(props[propName]) != 'function') &&\n        (props['onEditButtonClick'] == undefined || typeof(props['onEditButtonClick']) != 'function')\n      ))) {\n        return new Error('Please provide an onEditButtonClick or onContainerClick function');\n      }\n    },\n    hideEditButton: PropTypes.bool,\n    editMode: PropTypes.bool,\n    onAccept: PropTypes.func.isRequired,\n    onReject: PropTypes.func,\n    hoverToShowEditButton: PropTypes.bool,\n  }\n\n  state = {\n    editMode: false,\n    inputValue: this.props.children.props.children,\n    prevInputValue: this.props.children.props.children,\n  }\n\n  handleEditButtonClick = () => {\n    console.log('handleEditButtonClick');\n    if (this.props.onEditButtonClick && typeof(this.props.editMode) === 'boolean') {\n      this.props.onEditButtonClick();\n      this.input.focus()\n    } else {\n      this.setState({ editMode: true }, () => {\n        this.input.focus()\n      })\n    }\n  }\n  handleOnContainerClick = () => {\n    console.log('handleOnContainerClick');\n    if (this.props.onContainerClick && typeof(this.props.editMode) === 'boolean') {\n      this.props.onContainerClick();\n      this.input.focus()\n    } else {\n      console.log(\"Function for 'OnContainerClick' not provided\");\n      this.setState({ editMode: true }, () => {\n        this.input.focus()        \n      })\n    }\n  }\n  handleOnKeyPress = (e) => {\n    console.log('handleOnKeyPress');\n    if (e.key === 'Enter') {\n      this.onAccept(e)\n    } \n  }\n  handleOnKeyDown = (e) => {\n    if (e.keyCode === 27) {\n      this.onReject(e)\n    }\n  }\n  onAccept = () => {\n    const inputValue = typeof(this.props.inputProps['value']) !== 'undefined' ? this.props.inputProps.value : this.state.inputValue;\n    console.log('onAccept', inputValue)\n    this.props.onAccept(inputValue)\n    this.setState({\n      editMode: false,\n      prevInputValue: this.state.inputValue,\n    })\n  }\n  onReject = () => {\n    console.log('onReject', this.state.prevInputValue);\n    if (this.props.onReject) {\n      this.props.onReject(this.state.prevInputValue);\n    }\n    this.setState({\n      editMode: false,\n      inputValue: this.state.prevInputValue,\n    })\n  }\n  handleInputChange = (e) => {\n    this.setState({ inputValue: e.target.value })\n  }\n  render() {\n    const {\n      handleEditButtonClick,\n      handleOnContainerClick,\n      handleOnKeyPress,\n      handleOnKeyDown,\n      onAccept,\n      onReject,\n    } = this;\n\n    const {\n      containerProps,\n      inputProps,\n      editButtonProps,\n      children,\n      hideEditButton,\n      hoverToShowEditButton,\n    } = this.props;\n\n    const {\n      placeholder,\n    } = inputProps;\n\n    const inputValue = typeof(inputProps['value']) !== 'undefined' ? inputProps.value : this.state.inputValue;\n    const onInputChange = typeof(inputProps['onChange']) !== 'undefined' ? inputProps.onChange : this.handleInputChange;\n\n    const {\n      text,\n      icon,\n    } = editButtonProps;\n\n    const editMode = typeof(this.props.editMode) === 'undefined' ? this.state.editMode : this.props.editMode;\n\n    const inputClasses = [styles.input];\n    if (!editMode) inputClasses.push(styles.hidden);\n\n    const editButtonClasses = [styles.editButton];\n    if (hoverToShowEditButton) editButtonClasses.push(styles.hoverToShow);\n\n    {return (\n      <div className={['EditButton', styles.container].join(' ')} {...containerProps}>\n        <input\n          value={inputValue}s\n          placeholder={placeholder}\n          onChange={onInputChange}\n          className={inputClasses.join(' ')}\n          onKeyPress={handleOnKeyPress}\n          onKeyDown={handleOnKeyDown}\n          ref={(input) => this.input = input}\n        />\n        {\n          editMode && (\n            <Fragment>\n              <button className={styles.acceptButton} onClick={onAccept}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\" /></svg>\n              </button>\n              <button className={styles.rejectButton} onClick={onReject}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" /><path d=\"M0 0h24v24H0z\" fill=\"none\" /></svg>\n              </button>\n            </Fragment>\n          )\n        }\n        {\n          !editMode && (\n            <Fragment>\n              <div onClick={!editMode ? handleOnContainerClick : null}>\n                { children }\n              </div>\n              {\n                !hideEditButton && (\n                  <button\n                    onClick={handleEditButtonClick}\n                    className={editButtonClasses.join(' ')}\n                  >\n                    { text || 'Edit' } \n                    { \n                      icon || (\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                          <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\" />\n                          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                        </svg>\n                      )\n                    }\n                  </button>\n                )\n              }\n            </Fragment>\n          )\n        }\n      </div>\n    )}\n  }\n}\n"],"names":["EditButton","state","props","children","handleEditButtonClick","log","onEditButtonClick","editMode","input","focus","setState","handleOnContainerClick","onContainerClick","handleOnKeyPress","e","key","onAccept","handleOnKeyDown","keyCode","onReject","inputValue","inputProps","value","prevInputValue","handleInputChange","target","containerProps","editButtonProps","hideEditButton","hoverToShowEditButton","placeholder","onInputChange","onChange","text","icon","inputClasses","styles","push","hidden","editButtonClasses","editButton","hoverToShow","React","container","join","acceptButton","rejectButton","Component","defaultProps","propTypes","PropTypes","shape","string","isRequired","any","oneOfType","number","propName","componentName","undefined","Error","bool","func"],"mappings":"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"}